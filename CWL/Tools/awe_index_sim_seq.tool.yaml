cwlVersion: v1.0
class: CommandLineTool
baseCommand: awe_index_sim_seq.pl


requirements:
  - class: InlineJavascriptRequirement
  - class: InitialWorkDirRequirement
    listing: |
      ${
        var listing = inputs.mydir.listing;
        listing.push(inputs.myfile);
        return listing;
       }
    # - entryname: userattr.json
#       entry: |
#         {
#           "stage_id": "075",
#           "stage_name": "qc"
#         }

requirements:
  - class: InlineJavascriptRequirement
  - class: InitialWorkDirRequirement
    listing:
      - entryname: userattr.json
        entry: |
          {
             "stage_id": "700",
             "stage_name": "filter.sims",
             "m5nr_annotation_version": "$(inputs.m5nr_version)",
             "m5rna_annotation_version": "$(inputs.m5nr_version)"
          }
  
stdout: ls.log
stderr: error.log

inputs:
  in_seq: File[]
  in_maps: File[]
  in_sims: File[]
  memory: 
    type: int?
    default: 10
  output: string
  m5nr_version: string
                            
    
outputs:
  sims:
    type: File
    outputBinding:
      glob: $(inputs.output)
  index:
    type: File
    outputBinding:
      glob: $(inputs.output).index.json    
  stdout:
    type: stdout
  error: 
    type: stderr  
    

