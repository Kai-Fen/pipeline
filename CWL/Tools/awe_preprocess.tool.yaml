cwlVersion: v1.0
class: CommandLineTool
baseCommand: awe_preprocess.pl

hints:
  DockerRequirement:
    dockerPull: mgrast/preprocess:1.0

# requirements:
#   - class: InitialWorkDirRequirement
#     listing: userattr.json
  
inputs:
    input:
      type: File
      inputBinding:
        prefix: -input
    format:
      doc: "fasta or fastq"
      type: string?
      inputBinding:
        prefix: -format
    out_prefix:
      type: string
      default: prep
      inputBinding:
        prefix: -out_prefix
    filter_options:
      type: string?
      default: "dynamic_trim:min_qual=15:max_lqb=5"
      inputBinding:
        prefix: -filter_options        
  
outputs:
  passed:
    type: File
    outputBinding:
      glob: $(inputs.out_prefix).passed.fna
  removed:
    type: File
    outputBinding:
      glob: $(inputs.out_prefix).removed.fna
  attributes:
    type: File[]?
    outputBinding:
      glob: "*.json"              