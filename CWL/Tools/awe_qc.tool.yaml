cwlVersion: v1.0
class: CommandLineTool
baseCommand: awe_qc.pl

hints:
  DockerRequirement:
    dockerPull: mgrast/qc:1.0

requirements:
  InitialWorkDirRequirement:
    listing:
      - entryname: userattr.json
        entry: |
          {
            "stage_id": "075",
            "stage_name": "qc"
          }

inputs:
  seqfile:
    type: File
    inputBinding:
      prefix: -input
  format:
    type: string?
    inputBinding:
      prefix: -format
  name: 
    type: string
    default: raw
    inputBinding:
      prefix: -name
  proc:
    type: int
    default: 8
    inputBinding:
      prefix: -proc
  kmers:
    type: string
    default: 15,6
    inputBinding:
      prefix: -kmers
  out_prefix:
    type: string
    default: qc
    inputBinding:
      prefix: -out_prefix
  assembled:
    type: int
    default: "0"
    inputBinding:
      prefix: -assembled
  filter_options:
    type: string?
    inputBinding:
      prefix: -filter_options
                        
  
  
outputs:
      
  drisee:
    type: File[]
    outputBinding:
      glob: $(inputs.out_prefix).drisee.stats
  driseeattr:
    type: File[]
    outputBinding:
      glob: $(inputs.out_prefix).drisee.stats.json  
  driseeinfo:
    type: File[]
    outputBinding:
      glob: $(inputs.out_prefix).drisee.info
  driseeinfoattr:
    type: File[]
    outputBinding:
      glob: $(inputs.out_prefix).drisee.info.json      
  consensus:
    type: File[]
    outputBinding:
      glob: $(inputs.out_prefix).consensus.stats
  consensusattr:
    type: File[]
    outputBinding:
      glob: $(inputs.out_prefix).consensus.stats.json   
  kmer:
    type: File
    outputBinding:
      glob: $(inputs.out_prefix).kmer.*.stats
  kmerattr:
    type: File
    outputBinding:
      glob: $(inputs.out_prefix).kmer.*.stats.json    
  assembly:
    type: File?
    outputBinding:
      glob: $(inputs.out_prefix).assembly.coverage
  assemblyattr:
    type: File?
    outputBinding:
      glob: $(inputs.out_prefix).assembly.coverage.json    
  stats:
    type: File
    outputBinding:
      glob: $(inputs.out_prefix).qc.stats
  statsattr:
    type: File?
    outputBinding:
      glob: $(inputs.out_prefix).qc.stats.json                 